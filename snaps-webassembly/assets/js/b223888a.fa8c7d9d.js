"use strict";(self.webpackChunkmm_docs_v_2=self.webpackChunkmm_docs_v_2||[]).push([[3791],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var n=a(7294);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var i=n.createContext({}),p=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,s=e.mdxType,r=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(a),m=s,h=u["".concat(i,".").concat(m)]||u[m]||d[m]||r;return a?n.createElement(h,o(o({ref:t},c),{},{components:a})):n.createElement(h,o({ref:t},c))}));function h(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=a.length,o=new Array(r);o[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[u]="string"==typeof e?e:s,o[1]=l;for(var p=2;p<r;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294),s=a(6010);const r="tabItem_Ymn6";function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,s.Z)(r,o),hidden:a},t)}},5488:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(7462),s=a(7294),r=a(6010),o=a(2389),l=a(7392),i=a(7094),p=a(2466);const c="tabList__CuJ",u="tabItem_LNqP";function d(e){const{lazy:t,block:a,defaultValue:o,values:d,groupId:m,className:h}=e,k=s.Children.map(e.children,(e=>{if((0,s.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=d??k.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),f=(0,l.l)(b,((e,t)=>e.value===t.value));if(f.length>0)throw new Error(`Docusaurus error: Duplicate values "${f.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const w=null===o?o:o??k.find((e=>e.props.default))?.props.value??k[0].props.value;if(null!==w&&!b.some((e=>e.value===w)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${w}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:y}=(0,i.U)(),[g,N]=(0,s.useState)(w),M=[],{blockElementScrollPositionUntilNextRender:S}=(0,p.o5)();if(null!=m){const e=v[m];null!=e&&e!==g&&b.some((t=>t.value===e))&&N(e)}const D=e=>{const t=e.currentTarget,a=M.indexOf(t),n=b[a].value;n!==g&&(S(t),N(n),null!=m&&y(m,String(n)))},j=e=>{let t=null;switch(e.key){case"Enter":D(e);break;case"ArrowRight":{const a=M.indexOf(e.currentTarget)+1;t=M[a]??M[0];break}case"ArrowLeft":{const a=M.indexOf(e.currentTarget)-1;t=M[a]??M[M.length-1];break}}t?.focus()};return s.createElement("div",{className:(0,r.Z)("tabs-container",c)},s.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":a},h)},b.map((e=>{let{value:t,label:a,attributes:o}=e;return s.createElement("li",(0,n.Z)({role:"tab",tabIndex:g===t?0:-1,"aria-selected":g===t,key:t,ref:e=>M.push(e),onKeyDown:j,onClick:D},o,{className:(0,r.Z)("tabs__item",u,o?.className,{"tabs__item--active":g===t})}),a??t)}))),t?(0,s.cloneElement)(k.filter((e=>e.props.value===g))[0],{className:"margin-top--md"}):s.createElement("div",{className:"margin-top--md"},k.map(((e,t)=>(0,s.cloneElement)(e,{key:t,hidden:e.props.value!==g})))))}function m(e){const t=(0,o.Z)();return s.createElement(d,(0,n.Z)({key:String(t)},e))}},5718:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>u});var n=a(7462),s=(a(7294),a(3905)),r=a(5488),o=a(5162);const l={},i="Use MetaMask SDK",p={unversionedId:"how-to/use-sdk/index",id:"how-to/use-sdk/index",title:"Use MetaMask SDK",description:"MetaMask SDK currently supports all JavaScript-based dapps and Unity gaming dapps.",source:"@site/wallet/how-to/use-sdk/index.md",sourceDirName:"how-to/use-sdk",slug:"/how-to/use-sdk/",permalink:"/snaps-webassembly/wallet/how-to/use-sdk/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"walletSidebar",previous:{title:"How to",permalink:"/snaps-webassembly/wallet/category/how-to"},next:{title:"React Native",permalink:"/snaps-webassembly/wallet/how-to/use-sdk/react-native"}},c={},u=[{value:"How it works",id:"how-it-works",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Steps",id:"steps",level:2},{value:"1. Install the SDK",id:"1-install-the-sdk",level:3},{value:"2. Import the SDK",id:"2-import-the-sdk",level:3},{value:"3. Instantiate the SDK",id:"3-instantiate-the-sdk",level:3},{value:"4. Use the SDK",id:"4-use-the-sdk",level:3}],d={toc:u};function m(e){let{components:t,...l}=e;return(0,s.kt)("wrapper",(0,n.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"use-metamask-sdk"},"Use MetaMask SDK"),(0,s.kt)("p",null,"MetaMask SDK currently supports all JavaScript-based dapps and Unity gaming dapps.\nIt provides a reliable, secure, and seamless ",(0,s.kt)("a",{parentName:"p",href:"/snaps-webassembly/wallet/concepts/sdk-connections"},"connection")," from\nyour dapp to a MetaMask wallet client."),(0,s.kt)("p",null,"The following instructions work for dapps based on standard JavaScript, React, Node.js, Electron,\nand other web frameworks.\nYou can also see instructions for ",(0,s.kt)("a",{parentName:"p",href:"/snaps-webassembly/wallet/how-to/use-sdk/react-native"},"React Native"),", ",(0,s.kt)("a",{parentName:"p",href:"/snaps-webassembly/wallet/how-to/use-sdk/pure-js"},"pure JavaScript"),",\nand ",(0,s.kt)("a",{parentName:"p",href:"/snaps-webassembly/wallet/how-to/use-sdk/unity"},"Unity gaming")," dapps."),(0,s.kt)("admonition",{title:"Coming soon",type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"SDK support for Android native, iOS native, and Unreal Engine dapps is coming soon.")),(0,s.kt)("admonition",{type:"note"},(0,s.kt)("p",{parentName:"admonition"},"MetaMask SDK uses the ",(0,s.kt)("a",{parentName:"p",href:"/snaps-webassembly/wallet/reference/provider-api"},"Ethereum provider")," that developers are\nalready used to, so existing dapps work out of the box with the SDK.")),(0,s.kt)("h2",{id:"how-it-works"},"How it works"),(0,s.kt)(r.Z,{mdxType:"Tabs"},(0,s.kt)(o.Z,{value:"desktop",label:"Desktop browser",mdxType:"TabItem"},(0,s.kt)("p",null,"If a user accesses your web dapp on a desktop browser and doesn't have the MetaMask extension\ninstalled, a popup appears that prompts the user to either install the MetaMask extension or connect\nto MetaMask Mobile using a QR code."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"SDK desktop browser example",src:a(3237).Z,width:"1726",height:"1034"})),(0,s.kt)("p",null,"You can try the\n",(0,s.kt)("a",{parentName:"p",href:"https://c0f4f41c-2f55-4863-921b-sdk-docs.github.io/test-dapp-2/"},"hosted test dapp with the SDK installed"),".\nYou can also see this\n",(0,s.kt)("a",{parentName:"p",href:"https://github.com/MetaMask/examples/tree/main/metamask-with/metamask-sdk-create-react-app"},"React project example"),".")),(0,s.kt)(o.Z,{value:"mobile",label:"Mobile browser",mdxType:"TabItem"},(0,s.kt)("p",null,"If a user accesses your web dapp on a mobile browser, the SDK automatically deeplinks to MetaMask\nMobile (or if the user doesn't already have it, prompts them to install it).\nOnce the user accepts the connection, they're automatically redirected back to your dapp.\nThis happens for all actions that need user approval."),(0,s.kt)("p",{align:"center"},(0,s.kt)("p",null,(0,s.kt)("img",{alt:"SDK mobile browser example",src:a(7449).Z,width:"334",height:"696"}))),(0,s.kt)("p",null,"You can try the\n",(0,s.kt)("a",{parentName:"p",href:"https://c0f4f41c-2f55-4863-921b-sdk-docs.github.io/test-dapp-2/"},"hosted test dapp with the SDK installed"),".\nYou can also see this\n",(0,s.kt)("a",{parentName:"p",href:"https://github.com/MetaMask/examples/tree/main/metamask-with/metamask-sdk-create-react-app"},"React project example"),".")),(0,s.kt)(o.Z,{value:"nodejs",label:"Node.js",mdxType:"TabItem"},(0,s.kt)("p",null,"When a user accesses your Node.js dapp, the SDK renders a QR code on the console which users can\nscan with their MetaMask Mobile app."),(0,s.kt)("p",{align:"center"},(0,s.kt)("p",null,(0,s.kt)("img",{alt:"SDK Node.js example",src:a(5943).Z,width:"871",height:"947"}))))),(0,s.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"An existing or ",(0,s.kt)("a",{parentName:"li",href:"/snaps-webassembly/wallet/get-started/set-up-dev-environment"},"new project")," set up."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://github.com/MetaMask/metamask-mobile"},"MetaMask Mobile")," v5.8.1 or above."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://yarnpkg.com/getting-started/install"},"Yarn")," or\n",(0,s.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm"},"npm"),".")),(0,s.kt)("h2",{id:"steps"},"Steps"),(0,s.kt)("h3",{id:"1-install-the-sdk"},"1. Install the SDK"),(0,s.kt)("p",null,"In your project directory, install the SDK using Yarn or npm:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @metamask/sdk\nor\nnpm i @metamask/sdk\n")),(0,s.kt)("h3",{id:"2-import-the-sdk"},"2. Import the SDK"),(0,s.kt)("p",null,"In your project script, add the following to import the SDK:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"import MetaMaskSDK from '@metamask/sdk';\n")),(0,s.kt)("h3",{id:"3-instantiate-the-sdk"},"3. Instantiate the SDK"),(0,s.kt)("p",null,"Instantiate the SDK using any ",(0,s.kt)("a",{parentName:"p",href:"/snaps-webassembly/wallet/reference/sdk-js-options"},"options"),":"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"const MMSDK = new MetaMaskSDK(options);\n\nconst ethereum = MMSDK.getProvider(); // You can also access via window.ethereum\n")),(0,s.kt)("h3",{id:"4-use-the-sdk"},"4. Use the SDK"),(0,s.kt)("p",null,"Use the SDK by calling any ",(0,s.kt)("a",{parentName:"p",href:"/snaps-webassembly/wallet/reference/provider-api"},"provider API methods"),".\nAlways call ",(0,s.kt)("a",{parentName:"p",href:"/snaps-webassembly/wallet/reference/rpc-api#eth_requestaccounts"},(0,s.kt)("inlineCode",{parentName:"a"},"eth_requestAccounts"))," using\n",(0,s.kt)("a",{parentName:"p",href:"/snaps-webassembly/wallet/reference/provider-api#ethereumrequestargs"},(0,s.kt)("inlineCode",{parentName:"a"},"ethereum.request()"))," first, since it prompts\nthe installation or connection popup to appear."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript"},"ethereum.request({ method: 'eth_requestAccounts', params: [] });\n")))}m.isMDXComponent=!0},3237:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-desktop-browser-08daeb300da22c1fda2f50d7b63026a9.gif"},7449:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-mobile-browser-3a2065bba036d5910206697edcd2a298.gif"},5943:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-nodejs-53d5a8860c4b7d48902adc99a64a668f.gif"}}]);